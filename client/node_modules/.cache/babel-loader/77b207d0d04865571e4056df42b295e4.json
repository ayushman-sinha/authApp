{"ast":null,"code":"import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n  var _a;\n\n  const verified = await compactVerify(jwt, key, options);\n\n  if (((_a = verified.protectedHeader.crit) === null || _a === void 0 ? void 0 : _a.includes('b64')) && verified.protectedHeader.b64 === false) {\n    throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n  }\n\n  const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n  const result = {\n    payload,\n    protectedHeader: verified.protectedHeader\n  };\n\n  if (typeof key === 'function') {\n    return { ...result,\n      key: verified.key\n    };\n  }\n\n  return result;\n}","map":{"version":3,"names":["compactVerify","jwtPayload","JWTInvalid","jwtVerify","jwt","key","options","_a","verified","protectedHeader","crit","includes","b64","payload","result"],"sources":["D:/React/authApp/client/node_modules/jose/dist/browser/jwt/verify.js"],"sourcesContent":["import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    var _a;\n    const verified = await compactVerify(jwt, key, options);\n    if (((_a = verified.protectedHeader.crit) === null || _a === void 0 ? void 0 : _a.includes('b64')) && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n"],"mappings":"AAAA,SAASA,aAAT,QAA8B,0BAA9B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAO,eAAeC,SAAf,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,OAAnC,EAA4C;EAC/C,IAAIC,EAAJ;;EACA,MAAMC,QAAQ,GAAG,MAAMR,aAAa,CAACI,GAAD,EAAMC,GAAN,EAAWC,OAAX,CAApC;;EACA,IAAI,CAAC,CAACC,EAAE,GAAGC,QAAQ,CAACC,eAAT,CAAyBC,IAA/B,MAAyC,IAAzC,IAAiDH,EAAE,KAAK,KAAK,CAA7D,GAAiE,KAAK,CAAtE,GAA0EA,EAAE,CAACI,QAAH,CAAY,KAAZ,CAA3E,KAAkGH,QAAQ,CAACC,eAAT,CAAyBG,GAAzB,KAAiC,KAAvI,EAA8I;IAC1I,MAAM,IAAIV,UAAJ,CAAe,qCAAf,CAAN;EACH;;EACD,MAAMW,OAAO,GAAGZ,UAAU,CAACO,QAAQ,CAACC,eAAV,EAA2BD,QAAQ,CAACK,OAApC,EAA6CP,OAA7C,CAA1B;EACA,MAAMQ,MAAM,GAAG;IAAED,OAAF;IAAWJ,eAAe,EAAED,QAAQ,CAACC;EAArC,CAAf;;EACA,IAAI,OAAOJ,GAAP,KAAe,UAAnB,EAA+B;IAC3B,OAAO,EAAE,GAAGS,MAAL;MAAaT,GAAG,EAAEG,QAAQ,CAACH;IAA3B,CAAP;EACH;;EACD,OAAOS,MAAP;AACH"},"metadata":{},"sourceType":"module"}